TSTRING	DCB		0x41, 0x41, 0x41, 0x41, 0x42, 0x43, 0x43, 0x43, 0x43
PSTRING	DCB		0x41, 0x42, 0x43
TNUMEL	DCD		9
PNUMEL	DCD		3
RESULT	FILL		4
		
		MOV		R2, #TSTRING
		MOV		R3, #PSTRING
		MOV		R10, #RESULT
		
		MOV		R4, #TNUMEL
		LDR		R4, [R4]
		MOV		R5, #PNUMEL
		LDR		R5, [R5]
		
		SUB		R4, R4, R5
		ADD		R4, R4, R2
		ADD		R5, R5, R3
		
CICLO1	MOV		R6, R2
		MOV		R7, R3
CICLO2	LDRB		R8, [R6],#1
		LDRB		R9, [R7],#1
		CMP		R8, R9
		BNE		NOTEQUAL
		CMP		R5, R7
		BGT		CICLO2
		STR		R2, [R10]
		B		FATTO
NOTEQUAL	ADD		R2, R2, #1
		CMP		R4, R2
		BGE		CICLO1
		MOV		R8, #-1
		STR		R8, [R10]
		
FATTO	END
